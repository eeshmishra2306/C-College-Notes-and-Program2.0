#include <stdio.h>

int main() {
    int arr[] = {2, 3, -2, 4};
    int n = 4;
    int max = arr[0], min = arr[0], result = arr[0];

    for (int i = 1; i < n; i++) {
        int temp = max;
        max = (arr[i] > max * arr[i]) ? arr[i] : max * arr[i];
        max = (max > min * arr[i]) ? max : min * arr[i];
        min = (arr[i] < temp * arr[i]) ? arr[i] : temp * arr[i];
        result = (result > max) ? result : max;
    }

    printf("Maximum product = %d\n", result);
    return 0;
}
